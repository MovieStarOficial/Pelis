<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieStar</title>
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        background-image: url('https://i.imgur.com/KUJcSr9.jpg');
        background-size: cover;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        background-color: #00000000;
        color: #fff;
      }

      .video-container {
        display: flex; /* Center horizontally */
        justify-content: center;
        position: relative; /* Enable positioning of elements within */
      }

      iframe {
        position: relative; /* Allow positioning of the overlay */
        z-index: 1; /* Ensure it's behind the overlay */
      }

      .video-overlay {
        position: absolute; /* Position it relative to the container */
        top: 0; /* Align it to the top of the video */
        left: 0; /* Align it to the left of the video */
        width: 100%; /* Cover the full width */
        height: 13%; /* Adjust this value to cover the desired portion */
        background-color: rgba(51, 51, 51, 0.9); /* Customize the color and opacity */
        z-index: 2; /* Place it above the video */
        text-align: center; /* Center the title */
        padding: 10px; /* Add some padding for better readability */
      }

      .video-overlay h1 {
        margin: 0; /* Remove default margins for the title */
      }
    </style>
    
  </head>
  <body>

    <div class="video-container">
      <iframe width="640" height="480" allowfullscreen></iframe>
      <div class="video-overlay">
        <h1>MovieStar</h1>
      </div>
    </div>

    <script>
      const iframe = document.querySelector('iframe'); // Obtener referencia al iframe

      const AS_URL_BASE = "https://script.google.com/a/~/macros/s/AKfycbzNO7OguaaqWjZ9TB2f5H6j3BVvS6EFXbnM1JoIiuDYJ_j9IGDcldwBq3vriHGM-4jszg/exec";

  // Definir variables para almacenar los parámetros
  var IndexGH;
  var IDGH;
  var TokenIDGH;
  var TokenVinculacionGH;

  // Obtener la URL actual
  var url = window.location.href;

  // Extraer los parámetros
  var params = new URLSearchParams(url.split('?')[1]);

  // Asignar los valores a las variables
  IndexGH = params.get('IndexGH');
  IDGH = params.get('IDGH');
  TokenIDGH = params.get('TokenIDGH');
  TokenVinculacionGH = params.get('TokenVinculacionGH');

      if(IndexGH){
        fetch(AS_URL_BASE+'?Index='+IndexGH+'&ID='+IDGH+'&TokenID='+TokenIDGH+'&TokenVinculacion='+TokenVinculacionGH)
        .then(r => r.text())
        .then((response) => {
          console.log(response);
          r = response;
          
          // Eliminar primer y último carácter y guardar en t
          t = r.slice(1, -1);
          iframe.src = t; // Asignar la URL modificada a la variable iframe.src
          
        })
        .catch(err => sonsole.log(err))
      }

      function oncontextmenu(event) {
        event.preventDefault();
      }

      document.addEventListener("contextmenu", oncontextmenu);

    </script>

  </body>
</html>
